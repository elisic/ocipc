<apex:page controller="OCIController" sidebar="false" showHeader="false" tabStyle="SicProduct__c">
<apex:composition template="OCI_Template">
<apex:define name="main">
    <apex:sectionHeader title="Product Details"/>
    <apex:form >
        <apex:pageBlock >
            <apex:pageBlockButtons location="top">
                <apex:panelGrid columns="3">
                    <apex:commandLink action="{!addToCartAndDisplayCatalog}" value="Add to Cart">
                        <apex:param assignTo="{!currentProductID}" name="p" value="{!PRODUCTID}"/>
                    </apex:commandLink>
                    <apex:commandLink action="{!displayCatalog}" value="Catalog"/>
                </apex:panelGrid>
            </apex:pageBlockButtons>
    <apex:variable value="{!DetailProduct}" var="p"/>
        <apex:pageBlockSection columns="2">
            <apex:pageblockSectionItem >
                <apex:image url="{!$Site.Prefix + '/servlet/servlet.ImageServer?id=' + p.pictureDocumentID + '&oid=' + $Organization.Id }"/>
                <apex:outputText value="{!p.name}"></apex:outputText>
            </apex:pageblockSectionItem>
            <apex:pageblockSectionItem >
            <apex:outputLabel for="description">Description</apex:outputLabel>
            <apex:outputText id="description" value="{!p.description}"/>
            </apex:pageblockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel for="unspsc">UNSPSC</apex:outputLabel>
                <apex:outputText id="unspsc" value="{!p.UNSPSC}"/>
            </apex:pageBlockSectionItem>
            <apex:pageblockSectionItem >
            <apex:outputLabel for="manufpartno">Manufacturer Product Number</apex:outputLabel>
            <apex:outputText id="manufpartno" value="{!p.manufacturerProductNumber}"/>
            </apex:pageblockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel for="unspsccode">UNSPSC Code</apex:outputLabel>
                <apex:outputText id="unspsccode" value="{!p.UNSPSCCode}"/>
            </apex:pageBlockSectionItem>

        </apex:pageBlockSection>
        <apex:pageblocksection title="Price and Availability" columns="1">
            <apex:pageblockSectionItem >
            <apex:outputLabel for="origprice">List Price</apex:outputLabel>
            <apex:outputText id="origprice" value="{!p.original_priceDisplay}"/>
            </apex:pageblockSectionItem>
            <apex:pageblockSectionItem rendered="{!isBuyer}">
            <apex:outputLabel for="negprice">Your Price</apex:outputLabel>
            <apex:outputText id="negprice" value="{!p.negotiated_priceDisplay}"/>
            </apex:pageblockSectionItem>
            <apex:pageblockSectionItem >
            <apex:outputLabel for="leadtime">Usually Ships in</apex:outputLabel>
            <apex:outputText id="leadtime" value="{!p.leadTimeDisplay}"/>
            </apex:pageblockSectionItem>
        </apex:pageblocksection>
        <apex:pageBlockSection title="Detail" columns="1">
            <apex:pageblockSectionItem >
            <apex:outputLabel for="detail">Detail</apex:outputLabel>
            <apex:outputText id="detail" value="{!p.detail}" escape="false"/>
            </apex:pageblockSectionItem>
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Attachments" columns="1" rendered="{!NOT(Attachments.Empty)}">
            <apex:pageBlockTable value="{!Attachments}" var="a">
                <apex:column headerValue="Name">
                    <apex:outputLink value="{!$Site.Prefix + '/servlet/servlet.FileDownload?file=' + a.id}" >{!a.name}</apex:outputLink>
                </apex:column>
                <apex:column value="{!a.description}"/>
            </apex:pageBlockTable>
        </apex:pageBlockSection>
    </apex:pageBlock>
    </apex:form>
</apex:define>
</apex:composition>    
</apex:page>